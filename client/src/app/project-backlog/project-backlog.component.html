<h2 class="headerLine">Project Backlog</h2>

<div class="card" *ngFor="let issue of githubOpenIssues" style="margin-bottom: 10px;">
  <div class="card-body" >
    <h5 class="card-title" >
      {{issue.number + ') ' +issue.title}} 
      <span class="badge badge-success" *ngIf="isAddedToSprint(issue.number)">In Progress</span>
      <span class="badge badge-primary" *ngIf="!isAddedToSprint(issue.number)">Open</span>
    </h5>
    <p class="card-text">{{issue.body}}</p>
    <hr>

    <div class="dropdown" *ngIf="!isAddedToSprint(issue.number)">
      <button class="btn btn-success dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Add to Sprint
      </button>
      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
        <a class="dropdown-item" (click)="addToSprint(issue.number, sprint._id, sprint.title)" *ngFor="let sprint of sprints">{{sprint.title}}</a>
        <div class="dropdown-divider"></div>
        <a class="dropdown-item" [routerLink]="['/project-create-sprint', pid]" >Create New Sprint</a>
      </div>
    </div>

    <button *ngIf="isAddedToSprint(issue.number)" type="button" class="btn btn-success" disabled>Add to Sprint</button>
  </div>
</div>